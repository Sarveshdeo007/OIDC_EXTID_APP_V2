@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4 volvo-font"><strong>Welcome</strong></h1>
    <h2 class="display-4 volvo-font"><strong>Volvo Group</strong></h2>
    @* <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p> *@
    
    @if (!User.Identity.IsAuthenticated)
    {
        <div class="mt-4">
            <a href="/MicrosoftIdentity/Account/SignIn" class="btn btn-primary btn-lg">
                <i class="fas fa-sign-in-alt"></i> Sign in with Volvo Group
            </a>
        </div>
    }
    else
    {
        <div class="mt-4">
            <h3>Welcome, @User.Identity.Name!</h3>
            <div class="mt-3">
                <a href="/Home/Profile" class="btn btn-info">View Profile</a>
                @* <a href="/Home/TestGraphApi" class="btn btn-success">Test Graph API</a>
                <a href="/Home/CheckMfaStatus" class="btn btn-warning">Check MFA Status</a>
                <a href="/Home/Diagnostic" class="btn btn-secondary">View Diagnostic Info</a> *@
                @* <a href="/Home/SignOut" class="btn btn-danger">Sign Out</a> *@
            </div>

            @if (Model != null)
            {
                <div class="card mt-4">
                    <div class="card-header">
                        <h4>Graph API User Information</h4>
                    </div>
                    <div class="card-body">
                        <dl class="row">
                            <dt class="col-sm-3">Display Name</dt>
                            <dd class="col-sm-9">@Model.DisplayName</dd>

                            <dt class="col-sm-3">User Principal Name</dt>
                            <dd class="col-sm-9">@Model.UserPrincipalName</dd>

                            <dt class="col-sm-3">User ID</dt>
                            <dd class="col-sm-9">@Model.Id</dd>

                            <dt class="col-sm-3">Email</dt>
                            <dd class="col-sm-9">@Model.Mail</dd>

                            <dt class="col-sm-3">Job Title</dt>
                            <dd class="col-sm-9">@Model.JobTitle</dd>

                            <dt class="col-sm-3">Department</dt>
                            <dd class="col-sm-9">@Model.Department</dd>
                        </dl>
                    </div>
                </div>
            }
        </div>
    }
</div>
